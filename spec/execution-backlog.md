# GeoNode AI Assistant Execution Backlog

This backlog is grouped by track and intended for parallel implementation.
Estimate key: `S` (0.5-1d), `M` (1-3d), `L` (3-5d).

## Protocol
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| PRT-001 | Define protocol envelope/version fields | Protocol Engineer | S | - | Envelope includes version, step id, status, timestamps. Status: done (2026-02-09) via protocol envelope checks in `server/lib/protocolValidator.js` and envelope/timestamp/status checks in `server/lib/responseEventValidator.js`, with coverage in `server/tests/protocol-validator.test.js` and `server/tests/response-event-validator.test.js`. |
| PRT-002 | JSON Schema for request payloads | Protocol Engineer | M | PRT-001 | Invalid payloads rejected with clear errors. Status: done (2026-02-09) via strict runtime request payload validation in `server/lib/protocolValidator.js` with focused invalid/valid fixture coverage in `server/tests/protocol-validator.test.js`. |
| PRT-003 | JSON Schema for response/event payloads | Protocol Engineer | M | PRT-001 | Stream and terminal events validate. Status: done (2026-02-09) via `server/lib/responseEventValidator.js` + `server/tests/response-event-validator.test.js`. |
| PRT-004 | Error code taxonomy | Protocol Engineer | S | PRT-002, PRT-003 | Errors mapped to stable codes and docs. Status: done (2026-02-09) via `server/lib/errorTaxonomy.js` + `server/tests/error-taxonomy.test.js`. |
| PRT-005 | Compatibility policy and handshake | Protocol Engineer | M | PRT-001 | Version mismatch path tested. Status: done (2026-02-09) via `/api/protocol/handshake` in `server/index.js` + `server/tests/protocol-handshake.test.js`. |

## Executors
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| EXE-001 | Executor interface + lifecycle hooks | Executor Engineer | M | PRT-001 | Supports prepare/run/cancel/cleanup. Status: done (2026-02-09) via lifecycle contract in `server/lib/executors/baseExecutor.js` and orchestrated lifecycle execution/cancel/cleanup hooks in `server/lib/protocolExecutor.js`, with regression coverage in `server/tests/executor-node-tree.test.js`, `server/tests/executor-gnops.test.js`, and `server/tests/run-orchestrator-rpc.test.js`. |
| EXE-002 | NODE_TREE executor | Executor Engineer | M | EXE-001 | Builds/edits non-trivial trees deterministically. Status: done (2026-02-09) via `server/lib/executors/nodeTreeExecutor.js` and RPC bridge materialization path in `server/lib/executorBridge.js`, with coverage in `server/tests/executor-node-tree.test.js`. |
| EXE-003 | GN_OPS executor strategy registry | Executor Engineer | M | EXE-001 | Supported ops execute in-order and validate preconditions. Status: done (2026-02-09) via GN_OPS registration/dispatch in `server/lib/executors/registry.js` and `server/lib/executors/gnOpsExecutor.js`, with coverage in `server/tests/executor-gnops.test.js`. |
| EXE-004 | PYTHON executor safe/trusted modes | Security Engineer | M | EXE-001 | Safe mode blocks disallowed imports/actions. Status: done (2026-02-09) via real RPC-backed NODE_TREE/GN_OPS/PYTHON execution scripts + expanded safe-mode policy tests (`server/tests/blender-rpc-bridge-policy.test.js`, `server/tests/security-policy.test.js`). |
| EXE-005 | Cancellation escalation policy | Executor Engineer | M | EXE-002, EXE-003, EXE-004 | Graceful cancel then forced stop with terminal status. Status: done (2026-02-09) via cancel escalation hooks, stop-session enforcement, and lifecycle coverage (`server/tests/executor-node-tree.test.js`, `server/tests/executor-gnops.test.js`, `server/tests/run-orchestrator-rpc.test.js`). |

## Providers
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| PRV-001 | Provider abstraction contract | Provider Engineer | M | PRT-002, PRT-003 | Unified request/response model implemented. Status: Completed 2026-02-09 via adapter contract + registry (`server/lib/providers/registry.js`, `server/lib/providers/streamNormalization.js`) and llmService integration. |
| PRV-002 | OpenAI adapter | Provider Engineer | M | PRV-001 | Supports retry, timeout, streaming. Status: Completed 2026-02-09 (`server/lib/providers/openai.js`) with contract + stream-normalization tests green. |
| PRV-003 | Anthropic adapter | Provider Engineer | M | PRV-001 | Supports retry, timeout, streaming. Status: Completed 2026-02-09 (`server/lib/providers/anthropic.js`) with contract + stream-normalization tests green. |
| PRV-004 | Gemini adapter | Provider Engineer | M | PRV-001 | Supports retry, timeout, streaming. Status: Completed 2026-02-09 (`server/lib/providers/gemini.js`) with native/compatible request normalization + stream parity tests green. |
| PRV-005 | OpenAI-compatible adapter | Provider Engineer | M | PRV-001 | Custom base URL + headers + model config. Status: Completed 2026-02-09 (`server/lib/providers/openaiCompatible.js`) with custom/unknown provider routing in registry + tests green. |

## UI
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| UI-001 | Chat panel and run timeline | Frontend Engineer | M | PRT-003 | Displays step status, errors, artifacts. Status: done (2026-02-09) via run-inspector timeline + artifact/error rendering (`web_interface/src/components/AgentDrawer.jsx`, `web_interface/src/App.jsx`). |
| UI-002 | Settings panel for providers and policies | Frontend Engineer | M | PRV-001 | Validates config and persists settings. Status: done (2026-02-09) via policy-aware settings modal with local + backend validation (`web_interface/src/components/SettingsModal.jsx`, `web_interface/src/components/TopBar.jsx`, `web_interface/src/lib/apiClient.js`). |
| UI-003 | Protocol inspector | Frontend Engineer | S | PRT-003 | Raw validated payload visible per step. Status: done (2026-02-09) via protocol-tab inspector of validated step payloads (`web_interface/src/components/AgentDrawer.jsx`, `server/lib/runOrchestrator.js`, `web_interface/src/App.jsx`). |
| UI-004 | Preset manager UI | Frontend Engineer | M | PST-001 | Save/load/import/export flow works. Status: done (2026-02-09) via presets tab + server preset API hooks (`web_interface/src/components/AgentDrawer.jsx`, `web_interface/src/lib/apiClient.js`, `server/index.js`, `server/lib/presetStore.js`). |
| UI-005 | Accessibility pass | Frontend Engineer | M | UI-001..UI-004 | Keyboard navigation and labels verified. Status: done (2026-02-09) via explicit labels, dialog semantics, focus-visible states, and keyboard state attributes (`web_interface/src/components/SettingsModal.jsx`, `web_interface/src/components/TopBar.jsx`, `web_interface/src/components/Composer.jsx`, `web_interface/src/components/MessageList.jsx`, `web_interface/src/App.jsx`). |

## Safety and Hardening
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| SAF-001 | Threat model and trust boundaries | Security Engineer | M | - | Model reviewed and accepted. Status: done (2026-02-09) via `spec/saf-001-threat-model.md` with explicit trust boundaries, attack scenarios, and evidence mapping. |
| SAF-002 | Secret storage and redaction | Security Engineer | M | SAF-001 | Secrets never appear in logs/UI. Status: done (2026-02-09) via payload-level secret redaction in immutable audit logging (`server/lib/auditLog.js`), existing settings redaction (`server/lib/settingsService.js`), and focused coverage (`server/tests/audit-log.test.js`, `server/tests/core-api-behavior.test.js`, `server/tests/index-audit-events.test.js`). |
| SAF-003 | Path traversal/symlink protections | Security Engineer | M | EXE-004 | Escapes blocked with audit entry. Status: done (2026-02-09) with protocol step-id/path hardening + symlink-segment blocking in `server/lib/protocolExecutor.js` and regression tests in `server/tests/protocol-executor-security.test.js`. |
| SAF-004 | Network egress policy enforcement | Security Engineer | L | SAF-001 | Disallowed network access blocked in safe mode. Status: done (2026-02-09) with bridge safe-mode enforcement for blocked network-related imports/calls (`import`, `from ... import`, `__import__`, blocked builtins) and audit coverage (`server/tests/blender-rpc-bridge-policy.test.js`, `server/tests/blender-session-audit.test.js`). |
| SAF-005 | Immutable audit log | Security Engineer | L | SAF-002 | Append-only records with integrity checks. Status: done (2026-02-09) via hash-chain append path with pre-append integrity enforcement/fail-closed behavior and verification (`server/lib/auditLog.js`) plus tamper + append-block regression tests (`server/tests/audit-log.test.js`). |

## Presets
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| PST-001 | Preset schema and validation | Backend Engineer | M | PRT-002 | Invalid presets rejected with reasons. Status: done (2026-02-09) via strict preset validator + taxonomy errors (`server/lib/presetStore.js`, `server/lib/errorTaxonomy.js`) with coverage (`server/tests/preset-store.test.js`, `server/tests/preset-api.test.js`). |
| PST-002 | Preset import/export bundle format | Backend Engineer | M | PST-001 | Bundles load on clean install. Status: done (2026-02-09) via versioned preset bundle parse/import/export endpoints (`server/lib/presetStore.js`, `server/index.js`) with API+store tests (`server/tests/preset-store.test.js`, `server/tests/preset-api.test.js`). |
| PST-003 | Preset version migration | Backend Engineer | M | PST-001, PRT-005 | Older presets migrate without data loss. Status: done (2026-02-09) via legacy preset migration path (`server/lib/presetStore.js`) and migration regression tests (`server/tests/preset-store.test.js`). |

## Telemetry
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| TEL-001 | Event taxonomy and run correlation IDs | Telemetry Engineer | M | PRT-003 | Events linked by run/step ids. Status: done (2026-02-09) via taxonomy/correlation wiring in `server/lib/telemetry.js` and run-event enrichment in `server/lib/runOrchestrator.js` with validator/test coverage (`server/lib/responseEventValidator.js`, `server/tests/telemetry.test.js`, `server/tests/run-orchestrator-rpc.test.js`). |
| TEL-002 | Metrics exporter (latency, success, retries) | Telemetry Engineer | M | TEL-001 | Dashboard/endpoint shows live counters. Status: done (2026-02-09) via in-memory metrics exporter + provider/executor instrumentation (`server/lib/metricsExporter.js`, `server/lib/llmService.js`, `server/lib/protocolExecutor.js`) and `GET /api/metrics` (`server/index.js`, `server/tests/metrics-exporter.test.js`, `server/tests/protocol-handshake.test.js`). |
| TEL-003 | Trace spans across provider+executor | Telemetry Engineer | M | TEL-001, PRV-001, EXE-001 | End-to-end trace observable for each run. Status: done (2026-02-09) via `trace_span` events across provider and executor paths (`server/lib/llmService.js`, `server/lib/protocolExecutor.js`, `server/lib/runOrchestrator.js`) with validator and targeted tests (`server/tests/response-event-validator.test.js`, `server/tests/protocol-executor-telemetry.test.js`). |

## Testing (15+)
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| TST-001 | Protocol schema unit tests | QA Engineer | S | PRT-002, PRT-003 | Valid/invalid fixtures pass. Status: done (2026-02-09) with protocol/request and response-event validator coverage in `server/tests/protocol-validator.test.js` and `server/tests/response-event-validator.test.js`. |
| TST-002 | Provider adapter contract tests | QA Engineer | M | PRV-002..PRV-005 | Shared test suite passes all adapters. Status: done (2026-02-09) via adapter contract and stream-parity suite in `server/tests/provider-adapters.contract.test.js`. |
| TST-003 | Executor lifecycle tests | QA Engineer | M | EXE-001..EXE-005 | Success/failure/cancel transitions covered. Status: done (2026-02-09) with RPC cancel escalation coverage for NODE_TREE/GN_OPS and orchestrator cancel path tests green. |
| TST-004 | Gate enforcement tests | QA Engineer | M | SAF-001 | done-blocking on failed gates validated. Status: done (2026-02-09) with done/gate pass/fail envelope coverage in `server/tests/run-orchestrator-rpc.test.js`. |
| TST-005 | Safe-mode security tests | Security QA | M | EXE-004, SAF-003, SAF-004 | Forbidden operations are blocked. Status: done (2026-02-09) with blocked import/builtin/network/from-import/__import__ coverage in Blender RPC bridge tests plus safe-mode blocked builtin audit assertions. |
| TST-006 | Preset validation and migration tests | QA Engineer | M | PST-001..PST-003 | Import/export/migrate works end-to-end. Status: done (2026-02-09) with focused preset store/API route coverage (`server/tests/preset-store.test.js`, `server/tests/preset-api.test.js`). |
| TST-007 | Context slicing budget tests | QA Engineer | S | Phase 3 context work | Payload truncation deterministic and valid. Status: done (2026-02-09) via deterministic byte-budget context slicing helper in `server/blender_rpc_bridge.py` (`_slice_context_payload`) and focused coverage in `server/tests/context-slicing-budget.test.js` (determinism, budget compliance, valid JSON, and `get_context` metadata parity). Evidence: `node --test "server/tests/context-slicing-budget.test.js" "server/tests/blender-rpc-bridge-policy.test.js"` => 11/11 pass. |
| TST-008 | UI component tests | Frontend QA | M | UI-001..UI-004 | Core components pass unit/integration tests. Status: done (2026-02-09) via Vitest + RTL coverage for core UI components and interaction paths (`web_interface/src/components/Composer.test.jsx`, `web_interface/src/components/AgentDrawer.test.jsx`, `web_interface/src/components/TopBar.test.jsx`) with `cd web_interface && npm run test` => pass. |
| TST-009 | UI E2E happy path | Frontend QA | M | UI-001..UI-004 | Prompt -> execution -> result verified. Status: done (2026-02-09) via Playwright browser E2E happy path with deterministic API mocks (`web_interface/e2e/ui-happy-failure.spec.js`) validating prompt submit and completed terminal UX (`cd web_interface && npm run test:e2e` => pass). |
| TST-010 | UI E2E failure path | Frontend QA | M | UI-001..UI-004 | Provider failure and retry UX validated. Status: done (2026-02-09) via Playwright browser E2E failure + retry test (`web_interface/e2e/ui-happy-failure.spec.js`) validating failed terminal UX then retry to completed (`cd web_interface && npm run test:e2e` => pass). |
| TST-011 | Manifest E2E test runner | QA Engineer | L | EXE-002..EXE-004 | Expected node types/objects verified. Status: done (2026-02-09) via `server/lib/manifestE2ERunner.js`, CLI wiring in `server/scripts/run-manifest-e2e.js` + `server/package.json`, example manifest `server/e2e/manifests/tst-011-node-tree-cube.json`, and coverage in `server/tests/manifest-e2e-runner.test.js`. |
| TST-012 | Soak test (50 prompts) | QA Engineer | L | TST-011 | Stability target met, no crash. Status: done (2026-02-09) via manifest stress runner `server/lib/manifestStressRunners.js`, CLI `server/scripts/run-manifest-soak.js`, manifest `server/e2e/manifests/tst-012-soak-50-prompts.json`, and focused tests `server/tests/manifest-stress-runners.test.js`. |
| TST-013 | Load test concurrent runs | Perf Engineer | L | EXE-005, TEL-002 | Throughput and latency targets met. Status: done (2026-02-09) via concurrent worker load runner `server/scripts/run-manifest-load.js` backed by `server/lib/manifestStressRunners.js`, manifest `server/e2e/manifests/tst-013-load-concurrent.json`, and focused tests `server/tests/manifest-stress-runners.test.js`. |
| TST-014 | Chaos test provider/network faults | SRE QA | L | PRV-001..PRV-005 | Graceful degradation and recovery verified. Status: done (2026-02-09) via phased fault-injection chaos runner `server/scripts/run-manifest-chaos.js` + `server/lib/manifestStressRunners.js`, manifest `server/e2e/manifests/tst-014-chaos-provider-network.json`, and recovery assertions in `server/tests/manifest-stress-runners.test.js`. |
| TST-015 | Regression test pack for known bugs | QA Engineer | M | ongoing | New bugs must include regression tests. Status: done (2026-02-09) baseline pack established with known UI regressions (`web_interface/src/__tests__/regression-known-bugs.test.jsx`): `BUG-UI-001` (run-history bootstrap error visibility) and `BUG-UI-002` (clear-chat blocked during active run). Evidence: `cd web_interface && npm run test` => pass. |

## Packaging and Release
| ID | Title | Owner | Est | Depends On | Acceptance Criteria |
|---|---|---|---|---|---|
| PKG-001 | Build scripts and reproducible env | Build Engineer | M | - | Single-command reproducible build. Status: done (2026-02-09) via cross-platform entrypoints (`scripts/build-release.ps1`, `scripts/build-release.sh`) and deterministic packager (`scripts/package_release.py`) that emit `release/aether-blender-swarm.zip`, `release/SHA256SUMS.txt`, and `release/build-metadata.json` after `npm ci` + validation gates. |
| PKG-002 | Release signing and provenance | DevOps Engineer | L | PKG-001, SAF-005 | Signed artifacts and provenance emitted. Status: done (2026-02-09) via integrated provenance/signing pipeline (`scripts/sign_release.py`) and verification utility (`scripts/verify_release.py`) wired into both release entrypoints (`scripts/build-release.ps1`, `scripts/build-release.sh`) with safe fallback to unsigned artifacts when signing keys/tooling are unavailable (`release/signing-status.json`). |
| PKG-003 | Cross-platform install docs | Release Engineer | S | PKG-001 | Fresh install verified on target OS. Status: done (2026-02-09) via `spec/cross-platform-install.md` with Windows PowerShell + POSIX install/validation/build commands aligned to release scripts. |
| PKG-004 | Rollback playbook and release checklist | Release Engineer | S | PKG-002 | Dry run completed and documented. Status: done (2026-02-09) via `spec/release-rollback-playbook.md` and `spec/release-checklist.md`, with dry-run evidence from `powershell -ExecutionPolicy Bypass -File scripts/build-release.ps1` and generated logs under `release/logs/`. |
